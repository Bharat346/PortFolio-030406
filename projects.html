<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projects</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="style2.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css"
      integrity="sha384-nU14brUcp6StFntEOOEBvcJm4huWjB0OcIeQ3fltAfSmuZFrkAif0T+UtNGlKKQv"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
  </head>
  <body>
    <header>
      <div class="nav">
        <button class="icon-button" id="icon-button-menu">
          <span class="material-symbols-outlined">menu</span>
        </button>
        <button class="icon-button" id="icon-button-notification">
          <span class="material-symbols-outlined">notifications</span>
        </button>
      </div>
      <div class="div_top">
        <img
          width="150px"
          height="150px"
          style="
            border-radius: 100px;
            border-left: 5px solid rgb(60, 0, 255);
            border-right: 5px solid rgb(60, 0, 255);
            transform: translateY(20%);
          "
          src="me.jpg"
          alt="Bharat Kumar"
        />
        <h1 style="transform: translateY(70%); color: rgb(235, 80, 8)">
          Bharat Kumar
        </h1>
      </div>
      <div class="offcanvas-menu" id="offcanvas">
        <div>
          <button class="close-button" id="close-button">
            <span class="material-symbols-outlined">close</span>
          </button>
        </div>
        <div class="menuBtn">
          <hr>
          <div class="menuBtn">
            <hr>
            <div class="menuOption" onclick="window.location.href = 'index.html'" style="border: 3px solid #333; border-radius: 100px;"><span class="material-symbols-outlined">home</span><button>Home</button></div>
            <hr>
            <div class="menuOption" onclick="window.location.href = 'projects.html'" style="border: 3px solid #333; border-radius: 100px;"><span class="material-symbols-outlined">select_window</span><button >Projects</button></div>
            <hr>
            <div class="menuOption" onclick="window.location.href = 'notes.html'" style="border: 3px solid #333; border-radius: 100px;"><span class="material-symbols-outlined">layers</span><button onclick="window.location.href='notes'">Notes</button></div>
            <hr>
            <div class="menuOption" onclick="window.location.href = 'contact.html'" style="border: 3px solid #333; border-radius: 100px;"><span class="material-symbols-outlined">contacts</span><button onclick="window.location.href='contacts'">Contact</button></div>
            <hr>
        </div>
          <hr>
        </div>
      </div>
      <div class="offcanvas-menu2" id="offcanvas2">
        <div><button class="close-button" id="close-button2"><span class="material-symbols-outlined">close</span></button></div>
        <br>
        <br>
        <h2 style="transform: translateY(10%);">Important Notification</h2>
        <hr>
        <div id="news_in"></div>
    </div>
      
    </header>
    <main>
      <hr />
      <div class="category" id="category">
        <div class="elem all">All</div>
        <div class="elem c">C</div>
        <div class="elem js">JavaScript</div>
        <div class="elem py">Python</div>
      </div>
      <hr />
      <div class="projects" id="projects"></div>
      <button class="up_btn" onclick="window.location.href = '#'"><span class="material-symbols-outlined">expand_less</span></button>
      <!-- Cookie Popup -->
     <div id="cookie-popup" class="cookie-popup">
      <div class="cookie-content">
          <img style="background-color: white;" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQgn745eHls2unkSrn5KX4qfg-C7nI7kGpfSg&usqp=CAU" alt="Cookie" class="cookie-image">
          <p>This website uses cookies to ensure you get the best experience on our website.</p>
          <div class="button-container">
              <button id="accept-cookie" class="accept-button">Accept</button>
              <button id="decline-cookie" class="decline-button">Decline</button>
          </div>
      </div>
  </div>
    </main>
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
  // Fetch projects once when the page loads
  fetchProjects();

  function fetchProjects() {
    fetch("projects.json")
      .then((res) => res.json())
      .then((projects) => {
        // Add click event listeners to category elements
        const nav = document.querySelector(".category");
        renderProjects(projects);
        Array.from(nav.querySelectorAll(".elem")).forEach((e) => {
          e.addEventListener("click", () => {
            // Filter projects based on clicked element
            const text = e.textContent.toLowerCase();
            const filteredProjects = projects.filter((project) =>
              text === "all" ? true : project.lan.toLowerCase() === text
            );

            // Render filtered projects
            renderProjects(filteredProjects);

            // Update border styles
            updateBorderStyles(e);
          });
        });
      });
  }

  function renderProjects(projects) {
    const projectsContainer = document.getElementById("projects");
    projectsContainer.innerHTML = ""; // Clear existing projects

    projects.forEach((project) => {
      Add_Card(
        project.Tittle,
        project.code,
        project.project_view,
        project.img,
        project.Description
      );
    });
  }

  function updateBorderStyles(clickedElement) {
    const all = document.querySelector(".all");
    const categoryElements = document.querySelectorAll(".elem");

    // Remove border from all category elements
    categoryElements.forEach((element) => {
      element.style.borderBottom = "0px solid rgb(17, 0, 255)";
      element.style.borderRadius = "0px";
    });

    // Add border to the clicked element
    clickedElement.style.borderBottom = "5px solid rgb(17, 0, 255)";
    clickedElement.style.borderRadius = "5px";
  }

  function Add_Card(title, code, display, img, description) {
    const projectsContainer = document.getElementById("projects");
    const div = document.createElement("div");
    div.classList.add("custom-card");
    div.innerHTML = `
      <div class="custom-card-image">
          <img src=${img} alt=${title}>
      </div>
      <div class="custom-card-content">
          <h3 class="custom-card-title">${title}</h3>
          <p class="custom-card-text">${description}</p>
          <a href=${display} class="custom-card-btn">View Project</a>
          <a href=${code} class="custom-card-btn">View Project code</a>
      </div>
    `;
    projectsContainer.appendChild(div);
  }
});

    </script>
  </body>
</html>
